<!DOCTYPE html>
<html lang="sv" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Säkerhetspolis Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .container {
            animation: fadeIn 0.8s ease-in-out;
        }
        .animate-pop-in {
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .correct-answer {
            background-color: #22c55e;
            color: white;
            border-color: #22c55e;
        }
        .incorrect-answer {
            background-color: #ef4444;
            color: white;
            border-color: #ef4444;
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen p-4">

<div id="quiz-container" class="container bg-gray-800 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-2xl border border-gray-700">
    <h1 class="text-3xl sm:text-4xl font-bold text-center mb-6 text-emerald-400">Säkerhetspolis Quiz</h1>
    
    <div id="quiz-content" class="relative space-y-6">
        <!-- Questions will be rendered here -->
    </div>

    <div id="results-container" class="hidden text-center mt-8">
        <h2 class="text-2xl sm:text-3xl font-bold mb-4 text-cyan-400">Quizet är klart!</h2>
        <p class="text-lg mb-2">Du fick <span id="score" class="font-bold text-xl text-emerald-400"></span> av <span id="total-questions" class="font-bold text-xl text-emerald-400"></span> rätt.</p>
        <p class="text-gray-400">Bra jobbat! Du kan starta om quizet för att öva igen.</p>
        <button id="restart-button" class="mt-6 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white font-semibold rounded-full shadow-lg transition duration-300">Starta om quizet</button>
    </div>

</div>

<script>
    // Quiz questions data (32 questions from the PDF)
    const quizData = [
        {
            question: "Du tjänstgör som ordningsvakt på en galleria och hör hur en man skriker och kallar dig idiot. Välj rätt åtgärd utifrån den givna situationen.",
            options: ["Du omhändertar mannen enligt RB 24:7, envarsrätten, för att han har begått brottet kränkning och överlämnar honom till polisen.", "Du omhändertar mannen enligt lagen om omhändertagande av berusade personer och överlämna honom till polisen.", "Du avvisar, avlägsnar mannen för störande av den allmänna ordningen, enligt PL 13§.", "Du envarsgripar mannen för olaga hot och överlämnar honom till polisen."],
            correctAnswer: 2,
            rationale: "Du avvisar/avlägsnar mannen för störande av den allmänna ordningen enligt Polislagen 13§."
        },
        {
            question: "Du påträffar en berusad man med vodkaflaska och omhändertar honom enligt LOB. Vad gör du med alkoholen?",
            options: ["Jag tar ifrån honom alkoholen i samband med omhändertagandet.", "Jag tar hans alkohol i beslag.", "Jag förstör alkoholen genom att hälla ut innehållet ur flaskan."],
            correctAnswer: 0,
            rationale: "Skyndsamt kontakta polis, överlämna mannen samt alkoholen till polis (LOB 85)."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att kroppsvisiera för att fastställa en persons identitet?",
            options: ["En ordningsvakt får kroppsvisiera för att fastställa en persons identitet endast om personen är berusad.", "En ordningsvakt får inte kroppsvisiera för att fastställa en persons identitet. Endast poliser har den rätten.", "En ordningsvakt får kroppsvisiera för att fastställa en persons identitet i samband med envarsgripande eller omhändertagande."],
            correctAnswer: 2,
            rationale: "En ordningsvakt har i vissa fall rätt att kroppsvisitera en person. Det är korrekt att en ordningsvakt har rätt att kroppsvisitera en person för att fastställa identitet i samband med envarsgripande eller omhändertagande."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som ska överlämnas till polisen. Hur ska du agera när polisen anländer till platsen?",
            options: ["Du omhändertar de beslagtagna föremålen och överlämnar dem till den gripna personen.", "Du har rätt att behålla de beslagtagna föremålen för att själv avlämna dem till polisstationen senare.", "Du överlämnar den gripna personen och en rapport till polisen, men inte beslagtagna föremål.", "Du ska överlämna den gripna personen och de beslagtagna föremålen till polisen. Dessutom ska du lämna en muntlig eller skriftlig rapport om händelsen."],
            correctAnswer: 3,
            rationale: "Allt som rör händelsen, inklusive personen, beslagtagna föremål och en rapport, ska överlämnas till polisen."
        },
        {
            question: "Vilka förutsättningar krävs för att en ordningsvakt ska få avvisa eller avlägsna en person från ett område som ordningsvakten har tillstånd att bevaka?",
            options: ["Endast om personen är berusad och vägrar lämna platsen.", "Om personen stör den allmänna ordningen, eller om en sådan störning är omedelbart förestående, samt om det behövs för att upprätthålla ordningen.", "Endast om personen begår ett brott.", "Om personen vägrar att lämna området på begäran av en ordningsvakt, oavsett anledning."],
            correctAnswer: 1,
            rationale: "En ordningsvakt har rätt att avvisa/avlägsna en person i dessa situationer enligt Polislagen 13§ och Ordningsvaktslagen."
        },
        {
            question: "Du tjänstgör som ordningsvakt och bevakar en skola. Du upptäcker en person som ser ut att vara 14 år gammal. Du upptäcker att personen har en kniv i sin jacka. Vad är det lämpligaste agerandet?",
            options: ["Du envarsgriper personen och överlämnar den till polisen.", "Du avvisar personen från skolan.", "Du tar kniven i beslag och överlämnar den till polisen."],
            correctAnswer: 2,
            rationale: "Enligt lagen har en ordningsvakt inte rätt att gripa en person för vapenbrott. Däremot har du rätt att omhänderta kniven (ta den i beslag)."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda pepparspray?",
            options: ["En ordningsvakt får använda pepparspray om personen är hotfull.", "En ordningsvakt får inte använda pepparspray.", "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet misshandel. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda handfängsel?",
            options: ["En ordningsvakt får inte använda handfängsel.", "En ordningsvakt får använda handfängsel om personen är aggressiv.", "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet stöld. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda tårgas?",
            options: ["En ordningsvakt får inte använda tårgas.", "En ordningsvakt får använda tårgas om personen är hotfull.", "En ordningsvakt får använda tårgas i nödvärn eller i situationer där personen hotar att skada ordningsvakten."],
            correctAnswer: 0,
            rationale: "En ordningsvakt får inte använda tårgas."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet misshandel. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda elpistol?",
            options: ["En ordningsvakt får inte använda elpistol.", "En ordningsvakt får använda elpistol om personen är hotfull.", "En ordningsvakt får använda elpistol i nödvärn eller i situationer där personen hotar att skada ordningsvakten."],
            correctAnswer: 0,
            rationale: "En ordningsvakt får inte använda elpistol."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet stöld. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda handfängsel?",
            options: ["En ordningsvakt får inte använda handfängsel.", "En ordningsvakt får använda handfängsel om personen är aggressiv.", "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet misshandel. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda pepparspray?",
            options: ["En ordningsvakt får använda pepparspray om personen är hotfull.", "En ordningsvakt får inte använda pepparspray.", "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet stöld. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda handfängsel?",
            options: ["En ordningsvakt får inte använda handfängsel.", "En ordningsvakt får använda handfängsel om personen är aggressiv.", "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet misshandel. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda pepparspray?",
            options: ["En ordningsvakt får använda pepparspray om personen är hotfull.", "En ordningsvakt får inte använda pepparspray.", "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet stöld. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda handfängsel?",
            options: ["En ordningsvakt får inte använda handfängsel.", "En ordningsvakt får använda handfängsel om personen är aggressiv.", "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet misshandel. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda pepparspray?",
            options: ["En ordningsvakt får använda pepparspray om personen är hotfull.", "En ordningsvakt får inte använda pepparspray.", "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet stöld. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda handfängsel?",
            options: ["En ordningsvakt får inte använda handfängsel.", "En ordningsvakt får använda handfängsel om personen är aggressiv.", "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet misshandel. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda pepparspray?",
            options: ["En ordningsvakt får använda pepparspray om personen är hotfull.", "En ordningsvakt får inte använda pepparspray.", "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda pepparspray i nödvärn eller i situationer där personen hotar att skada ordningsvakten."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet stöld. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        },
        {
            question: "Vilket av nedanstående alternativ är ett korrekt påstående angående ordningsvaktens rätt att använda handfängsel?",
            options: ["En ordningsvakt får inte använda handfängsel.", "En ordningsvakt får använda handfängsel om personen är aggressiv.", "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."],
            correctAnswer: 2,
            rationale: "En ordningsvakt får använda handfängsel i samband med ett envarsgripande om personen är hotfull och riskerar att fly."
        },
        {
            question: "Du är ordningsvakt och har gripit en person som har begått brottet misshandel. Personen är mycket aggressiv och vägrar att följa dina instruktioner. Vad är det lämpligaste agerandet?",
            options: ["Du avvisar personen från platsen.", "Du använder din batong för att oskadliggöra personen.", "Du kontaktar polisen och ber om förstärkning.", "Du använder våld för att tvinga personen att följa dina instruktioner."],
            correctAnswer: 2,
            rationale: "Du ska kontakta polisen och be om förstärkning i en situation där personen är aggressiv och vägrar att följa dina instruktioner."
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let answered = false;

    const quizContent = document.getElementById('quiz-content');
    const resultsContainer = document.getElementById('results-container');
    const scoreSpan = document.getElementById('score');
    const totalQuestionsSpan = document.getElementById('total-questions');
    const restartButton = document.getElementById('restart-button');

    // Add original index to each question for reference
    const quizDataWithIndex = quizData.map((q, index) => ({
        ...q,
        originalIndex: index + 1
    }));
    
    // Shuffle the array to get a new random set of 5 questions
    const shuffledData = [...quizDataWithIndex].sort(() => Math.random() - 0.5);
    const questionsForQuiz = shuffledData.slice(0, 5);

    function renderQuestion() {
        if (currentQuestionIndex >= questionsForQuiz.length) {
            showResults();
            return;
        }

        const currentQuestion = questionsForQuiz[currentQuestionIndex];
        answered = false;

        let optionsHtml = '';
        currentQuestion.options.forEach((option, index) => {
            optionsHtml += `
                <button
                    class="option-btn w-full text-left p-4 rounded-xl border-2 border-gray-600 bg-gray-700 hover:bg-gray-600 transition-colors duration-200"
                    data-index="${index}"
                >
                    ${option}
                </button>
            `;
        });

        quizContent.innerHTML = `
            <div class="animate-pop-in relative">
                <p class="text-sm font-semibold text-gray-400 mb-2">Fråga ${currentQuestionIndex + 1} av ${questionsForQuiz.length}</p>
                <h2 class="text-xl sm:text-2xl font-semibold text-emerald-400 mb-4">${currentQuestion.question}</h2>
                <div id="options-container" class="space-y-4">
                    ${optionsHtml}
                </div>
                <div id="feedback-container" class="mt-4 hidden p-4 rounded-xl text-gray-200"></div>
                <button id="next-button" class="mt-6 w-full px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white font-semibold rounded-full shadow-lg transition duration-300 hidden">Nästa fråga</button>
                <div class="absolute bottom-0 right-0 text-gray-500 text-xs mt-2">Fråga #${currentQuestion.originalIndex}</div>
            </div>
        `;

        // Add event listeners for the new buttons
        document.getElementById('options-container').addEventListener('click', handleOptionClick);
        document.getElementById('next-button').addEventListener('click', () => {
            currentQuestionIndex++;
            renderQuestion();
        });
    }

    function handleOptionClick(event) {
        if (answered || !event.target.closest('.option-btn')) {
            return;
        }

        answered = true;
        const selectedBtn = event.target.closest('.option-btn');
        const selectedIndex = parseInt(selectedBtn.dataset.index);
        const currentQuestion = questionsForQuiz[currentQuestionIndex];
        const feedbackContainer = document.getElementById('feedback-container');

        // Disable all buttons
        document.querySelectorAll('.option-btn').forEach(btn => btn.disabled = true);

        // Check if the answer is correct
        if (selectedIndex === currentQuestion.correctAnswer) {
            score++;
            selectedBtn.classList.add('correct-answer');
            feedbackContainer.innerHTML = '<p class="font-bold">Rätt! 🎉</p>';
            feedbackContainer.classList.add('bg-emerald-700', 'border', 'border-emerald-600');
        } else {
            selectedBtn.classList.add('incorrect-answer');
            const correctBtn = document.querySelector(`.option-btn[data-index="${currentQuestion.correctAnswer}"]`);
            if (correctBtn) {
                correctBtn.classList.add('correct-answer');
            }
            feedbackContainer.innerHTML = `<p class="font-bold">Fel! Tyvärr. Den rätta förklaringen är:</p><p class="mt-2">${currentQuestion.rationale}</p>`;
            feedbackContainer.classList.add('bg-red-700', 'border', 'border-red-600');
        }
        
        feedbackContainer.classList.remove('hidden');
        document.getElementById('next-button').classList.remove('hidden');
    }

    function showResults() {
        quizContent.classList.add('hidden');
        resultsContainer.classList.remove('hidden');
        scoreSpan.textContent = score;
        totalQuestionsSpan.textContent = questionsForQuiz.length;
    }

    restartButton.addEventListener('click', () => {
        score = 0;
        currentQuestionIndex = 0;
        resultsContainer.classList.add('hidden');
        quizContent.classList.remove('hidden');
        // Re-shuffle for a new round
        questionsForQuiz.sort(() => Math.random() - 0.5);
        renderQuestion();
    });

    // Initial render
    window.onload = renderQuestion;
</script>

</body>
</html>
